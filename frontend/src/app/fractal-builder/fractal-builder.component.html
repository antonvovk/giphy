<app-navbar background="#4500ca" position="static"></app-navbar>

<div class="row d-flex flex-nowrap" style="height: 889px">
  <div class="mat-elevation-z8 col-3" style="width: 20%; height: 100%">
    <div class="mx-4 mt-3">
      <mat-form-field class="w-100" >
        <mat-label>Fractal type</mat-label>
        <mat-select (valueChange)="fractalSelectValueChanged()" [formControl]="fractalControl">
          <mat-option>-- None --</mat-option>
          <mat-optgroup *ngFor="let group of fractalGroups" [disabled]="group.disabled"
                        [label]="group.name">
            <mat-option *ngFor="let fractal of group.fractal" [value]="fractal.value">
              {{fractal.viewValue}}
            </mat-option>
          </mat-optgroup>
        </mat-select>
      </mat-form-field>

      <div *ngIf="fractalControl.value !== null">
        <form (ngSubmit)="drawFractal()" [formGroup]="fractalForm">
          <mat-form-field class="w-100">
            <input formControlName="iterations" matInput max="15" min="1" placeholder="Iterations" type="number"
                   value="1">
          </mat-form-field>

          <mat-form-field class="w-100 mt-1">
            <input formControlName="lineThickness" matInput max="10" min="1" placeholder="Line thickness"
                   type="number" value="1">
          </mat-form-field>

          <mat-card class="mat-elevation-z2">
            <mat-label class="color-primary">Background color</mat-label>
          </mat-card>
          <div class="mt-3">
            <color-twitter (onChangeComplete)="onBackgroundColorChange($event)" [color]="backgroundColor"
                           [colors]="lineColors"></color-twitter>
          </div>

          <mat-card class="mt-3 mat-elevation-z2">
            <mat-label class="color-primary">Line color</mat-label>
          </mat-card>
          <div class="mt-3">
            <color-twitter (onChangeComplete)="onLineColorChange($event)" [color]="lineColor"
                           [colors]="lineColors"></color-twitter>
          </div>

          <div class="d-flex justify-content-between" style="margin-top: 6em">
            <div class="mt-1 w-100 mr-3">
              <button class="w-100 main-btn" color="primary" mat-button type="submit">Draw</button>
            </div>

            <div class="mt-1 w-100 ml-3">
              <button class="w-100 main-btn" color="primary" mat-button>Save to file
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div #mainContent class="w-100 h-100" style="background: transparent">
    <canvas #canvas></canvas>
  </div>
</div>
